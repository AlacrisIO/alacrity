XL_InlinedProg (fromList [("A",[("wagerAmount",AT_UInt256),("escrowAmount",AT_UInt256)]),("B",[])]) (XL_Let Nothing (Just ["B_WINS","DRAW","A_WINS"]) (XL_Values [XL_Con (Con_I 0),XL_Con (Con_I 1),XL_Con (Con_I 2)]) False (XL_Let Nothing (Just ["ROCK","PAPER","SCISSORS"]) (XL_Values [XL_Con (Con_I 0),XL_Con (Con_I 1),XL_Con (Con_I 2)]) False (XL_Let (Just "A") (Just ["wagerAmount"]) (XL_Declassify (XL_Var "wagerAmount")) False (XL_Let (Just "A") (Just ["escrowAmount"]) (XL_Declassify (XL_Var "escrowAmount")) False (XL_Let (Just "A") Nothing (XL_PrimApp INTERACT [XL_Con (Con_BS "params")]) False (XL_ToConsensus "A" ["wagerAmount","escrowAmount"] (XL_PrimApp (CP ADD) [XL_Var "wagerAmount",XL_Var "escrowAmount"]) (XL_Let Nothing Nothing (XL_Claim CT_Require (XL_PrimApp (CP PEQ) [XL_PrimApp (CP TXN_VALUE) [],XL_PrimApp (CP ADD) [XL_Var "wagerAmount",XL_Var "escrowAmount"]])) False (XL_FromConsensus (XL_Let (Just "B") Nothing (XL_PrimApp INTERACT [XL_Con (Con_BS "accepts")]) False (XL_ToConsensus "B" [] (XL_Var "wagerAmount") (XL_Let Nothing Nothing (XL_Claim CT_Require (XL_PrimApp (CP PEQ) [XL_PrimApp (CP TXN_VALUE) [],XL_Var "wagerAmount"])) False (XL_FromConsensus (XL_Let (Just "A") (Just ["handA"]) (XL_Let Nothing (Just []) (XL_Values []) False (XL_Let Nothing (Just ["result"]) (XL_Let Nothing (Just ["s"]) (XL_PrimApp INTERACT [XL_Con (Con_BS "getHand")]) False (XL_Let Nothing (Just ["rockP"]) (XL_PrimApp (CP BYTES_EQ) [XL_Var "s",XL_Con (Con_BS "ROCK")]) False (XL_Let Nothing (Just ["paperP"]) (XL_PrimApp (CP BYTES_EQ) [XL_Var "s",XL_Con (Con_BS "PAPER")]) False (XL_Let Nothing (Just ["scissorsP"]) (XL_PrimApp (CP BYTES_EQ) [XL_Var "s",XL_Con (Con_BS "SCISSORS")]) False (XL_Let Nothing Nothing (XL_Claim CT_Assume (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_Var "rockP",XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_Var "paperP",XL_Var "scissorsP"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Con (Con_B True),XL_Var "y"])]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Con (Con_B True),XL_Var "y"]))) False (XL_If True (XL_Var "rockP") (XL_Var "ROCK") (XL_If True (XL_Var "paperP") (XL_Var "PAPER") (XL_Var "SCISSORS")))))))) False (XL_Let Nothing Nothing (XL_Claim CT_Assert (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "result"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_Var "result")))) False (XL_Let (Just "A") (Just ["commitA","saltA"]) (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "handA"]) False (XL_Let Nothing (Just ["salt"]) (XL_PrimApp RANDOM []) False (XL_Let Nothing (Just ["commitment"]) (XL_PrimApp (CP DIGEST) [XL_PrimApp (CP BCAT) [XL_PrimApp (CP UINT256_TO_BYTES) [XL_Var "salt"],XL_PrimApp (CP UINT256_TO_BYTES) [XL_Var "x"]]]) False (XL_Values [XL_Var "commitment",XL_Var "salt"])))) False (XL_Let (Just "A") (Just ["commitA"]) (XL_Declassify (XL_Var "commitA")) False (XL_Let (Just "A") Nothing (XL_PrimApp INTERACT [XL_Con (Con_BS "commits")]) False (XL_ToConsensus "A" ["commitA"] (XL_Con (Con_I 0)) (XL_Let Nothing Nothing (XL_Claim CT_Require (XL_PrimApp (CP PEQ) [XL_PrimApp (CP TXN_VALUE) [],XL_Con (Con_I 0)])) False (XL_FromConsensus (XL_Let (Just "B") (Just ["handB"]) (XL_Let Nothing (Just []) (XL_Values []) False (XL_Let Nothing (Just ["result"]) (XL_Let Nothing (Just ["s"]) (XL_PrimApp INTERACT [XL_Con (Con_BS "getHand")]) False (XL_Let Nothing (Just ["rockP"]) (XL_PrimApp (CP BYTES_EQ) [XL_Var "s",XL_Con (Con_BS "ROCK")]) False (XL_Let Nothing (Just ["paperP"]) (XL_PrimApp (CP BYTES_EQ) [XL_Var "s",XL_Con (Con_BS "PAPER")]) False (XL_Let Nothing (Just ["scissorsP"]) (XL_PrimApp (CP BYTES_EQ) [XL_Var "s",XL_Con (Con_BS "SCISSORS")]) False (XL_Let Nothing Nothing (XL_Claim CT_Assume (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_Var "rockP",XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_Var "paperP",XL_Var "scissorsP"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Con (Con_B True),XL_Var "y"])]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Con (Con_B True),XL_Var "y"]))) False (XL_If True (XL_Var "rockP") (XL_Var "ROCK") (XL_If True (XL_Var "paperP") (XL_Var "PAPER") (XL_Var "SCISSORS")))))))) False (XL_Let Nothing Nothing (XL_Claim CT_Assert (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "result"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_Var "result")))) False (XL_Let (Just "B") (Just ["handB"]) (XL_Declassify (XL_Var "handB")) False (XL_Let (Just "B") Nothing (XL_PrimApp INTERACT [XL_Con (Con_BS "shows")]) False (XL_ToConsensus "B" ["handB"] (XL_Con (Con_I 0)) (XL_Let Nothing Nothing (XL_Claim CT_Require (XL_PrimApp (CP PEQ) [XL_PrimApp (CP TXN_VALUE) [],XL_Con (Con_I 0)])) False (XL_Let Nothing Nothing (XL_Claim CT_Require (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "handB"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_FromConsensus (XL_Let (Just "A") (Just ["saltA"]) (XL_Declassify (XL_Var "saltA")) False (XL_Let (Just "A") (Just ["handA"]) (XL_Declassify (XL_Var "handA")) False (XL_Let (Just "A") Nothing (XL_PrimApp INTERACT [XL_Con (Con_BS "reveals")]) False (XL_ToConsensus "A" ["saltA","handA"] (XL_Con (Con_I 0)) (XL_Let Nothing Nothing (XL_Claim CT_Require (XL_PrimApp (CP PEQ) [XL_PrimApp (CP TXN_VALUE) [],XL_Con (Con_I 0)])) False (XL_Let Nothing Nothing (XL_Let Nothing (Just ["commit","salt","x"]) (XL_Values [XL_Var "commitA",XL_Var "saltA",XL_Var "handA"]) False (XL_Claim CT_Require (XL_PrimApp (CP PEQ) [XL_Var "commit",XL_PrimApp (CP DIGEST) [XL_PrimApp (CP BCAT) [XL_PrimApp (CP UINT256_TO_BYTES) [XL_Var "salt"],XL_PrimApp (CP UINT256_TO_BYTES) [XL_Var "x"]]]]))) False (XL_Let Nothing Nothing (XL_Claim CT_Require (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "handA"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_Let Nothing (Just ["outcome"]) (XL_Let Nothing (Just ["handA","handB"]) (XL_Values [XL_Var "handA",XL_Var "handB"]) False (XL_Let Nothing (Just ["result"]) (XL_Let Nothing (Just ["validA"]) (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "handA"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)]))) False (XL_Let Nothing (Just ["validB"]) (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "handB"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)]))) False (XL_If True (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_Var "validA",XL_Var "validB"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])) (XL_PrimApp (CP MOD) [XL_PrimApp (CP ADD) [XL_Var "handA",XL_PrimApp (CP SUB) [XL_Con (Con_I 4),XL_Var "handB"]],XL_Con (Con_I 3)]) (XL_If True (XL_Var "validA") (XL_Var "A_WINS") (XL_If True (XL_Var "validB") (XL_Var "B_WINS") (XL_Var "DRAW")))))) False (XL_Let Nothing Nothing (XL_Claim CT_Assert (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "result"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_Var "result")))) False (XL_Let Nothing Nothing (XL_Claim CT_Assert (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PEQ) [XL_Var "outcome",XL_Var "A_WINS"],XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "handA"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)]))]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "x"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Con (Con_B False),XL_Con (Con_B True)]),XL_Var "y"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Con (Con_B True),XL_Var "y"])))) False (XL_Let Nothing Nothing (XL_Claim CT_Assert (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PEQ) [XL_Var "outcome",XL_Var "B_WINS"],XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "handB"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)]))]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "x"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Con (Con_B False),XL_Con (Con_B True)]),XL_Var "y"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Con (Con_B True),XL_Var "y"])))) False (XL_Let Nothing Nothing (XL_Let Nothing (Just ["handA","handB","outcome"]) (XL_Values [XL_Var "handA",XL_Var "handB",XL_Var "outcome"]) False (XL_Let Nothing Nothing (XL_Let Nothing (Just ["handX","canWinX"]) (XL_Values [XL_Var "handA",XL_PrimApp (CP PEQ) [XL_Var "outcome",XL_Var "A_WINS"]]) False (XL_Let Nothing Nothing (XL_Let Nothing (Just ["handX","optionX","canWinX"]) (XL_Values [XL_Var "handX",XL_Var "ROCK",XL_Var "canWinX"]) False (XL_Claim CT_Possible (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PEQ) [XL_Var "handX",XL_Var "optionX"],XL_Var "canWinX"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_Let Nothing Nothing (XL_Let Nothing (Just ["handX","optionX","canWinX"]) (XL_Values [XL_Var "handX",XL_Var "PAPER",XL_Var "canWinX"]) False (XL_Claim CT_Possible (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PEQ) [XL_Var "handX",XL_Var "optionX"],XL_Var "canWinX"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_Let Nothing (Just ["handX","optionX","canWinX"]) (XL_Values [XL_Var "handX",XL_Var "SCISSORS",XL_Var "canWinX"]) False (XL_Claim CT_Possible (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PEQ) [XL_Var "handX",XL_Var "optionX"],XL_Var "canWinX"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)]))))))) False (XL_Let Nothing (Just ["handX","canWinX"]) (XL_Values [XL_Var "handB",XL_PrimApp (CP PEQ) [XL_Var "outcome",XL_Var "B_WINS"]]) False (XL_Let Nothing Nothing (XL_Let Nothing (Just ["handX","optionX","canWinX"]) (XL_Values [XL_Var "handX",XL_Var "ROCK",XL_Var "canWinX"]) False (XL_Claim CT_Possible (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PEQ) [XL_Var "handX",XL_Var "optionX"],XL_Var "canWinX"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_Let Nothing Nothing (XL_Let Nothing (Just ["handX","optionX","canWinX"]) (XL_Values [XL_Var "handX",XL_Var "PAPER",XL_Var "canWinX"]) False (XL_Claim CT_Possible (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PEQ) [XL_Var "handX",XL_Var "optionX"],XL_Var "canWinX"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_Let Nothing (Just ["handX","optionX","canWinX"]) (XL_Values [XL_Var "handX",XL_Var "SCISSORS",XL_Var "canWinX"]) False (XL_Claim CT_Possible (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PEQ) [XL_Var "handX",XL_Var "optionX"],XL_Var "canWinX"]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)]))))))))) False (XL_Let Nothing (Just ["getsA","getsB"]) (XL_If True (XL_PrimApp (CP PEQ) [XL_Var "outcome",XL_Var "A_WINS"]) (XL_Values [XL_PrimApp (CP MUL) [XL_Con (Con_I 2),XL_Var "wagerAmount"],XL_Con (Con_I 0)]) (XL_If True (XL_PrimApp (CP PEQ) [XL_Var "outcome",XL_Var "B_WINS"]) (XL_Values [XL_Con (Con_I 0),XL_PrimApp (CP MUL) [XL_Con (Con_I 2),XL_Var "wagerAmount"]]) (XL_Values [XL_Var "wagerAmount",XL_Var "wagerAmount"]))) False (XL_Let Nothing Nothing (XL_Transfer "A" (XL_PrimApp (CP ADD) [XL_Var "escrowAmount",XL_Var "getsA"])) False (XL_Let Nothing Nothing (XL_Transfer "B" (XL_Var "getsB")) False (XL_FromConsensus (XL_Let Nothing Nothing (XL_PrimApp INTERACT [XL_Con (Con_BS "outcome")]) False (XL_Let Nothing (Just ["o"]) (XL_Values [XL_Var "outcome"]) False (XL_Let Nothing Nothing (XL_Claim CT_Require (XL_Let Nothing (Just ["x"]) (XL_Values [XL_Var "o"]) False (XL_Let Nothing (Just ["x","y"]) (XL_Values [XL_PrimApp (CP PLE) [XL_Con (Con_I 0),XL_Var "x"],XL_PrimApp (CP PLT) [XL_Var "x",XL_Con (Con_I 3)]]) False (XL_PrimApp (CP IF_THEN_ELSE) [XL_Var "x",XL_Var "y",XL_Con (Con_B False)])))) False (XL_If True (XL_PrimApp (CP PEQ) [XL_Var "o",XL_Var "B_WINS"]) (XL_Con (Con_BS "Bob wins")) (XL_If True (XL_PrimApp (CP PEQ) [XL_Var "o",XL_Var "DRAW"]) (XL_Con (Con_BS "Draw")) (XL_Con (Con_BS "Alice wins"))))))))))))))))))))))))))))))))))))))))))))))))